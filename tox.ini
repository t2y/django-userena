[tox]
envlist =
    ; py27 still has the widest django support
    py27-django{15,16,17,18,19},
    ; py35 support was officially introduced in django1.8
    py35-django{18,19}
    py36-django{18,19}
    py37-django{18,19}

[testenv]
usedevelop = True
deps =
    django{15,16}: south
    django{15,16}: django-guardian<1.4.0
    django15: django==1.5.12
    django16: django==1.6.11
    django17: django==1.7.11
    django18: django==1.8.7
    django19: django==1.9
    coverage: django==1.9
    coverage: coverage==4.0.3
    coverage: coveralls==1.1

basepython =
    py35: python3.5
    py36: python3.6
    py37: python3.7
    py27: python2.7

commands={envpython} userena/runtests/runtests.py userena umessages {posargs}

[testenv:coverage]
basepython = python2.7
passenv = TRAVIS TRAVIS_JOB_ID TRAVIS_BRANCH
commands=
    coverage run --source=userena userena/runtests/runtests.py userena umessages {posargs}
    ; coveralls
